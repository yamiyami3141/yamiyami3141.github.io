<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>小鳥Lab</title>
    <meta name="robots" content="index, follow">
    <meta name="keywords" content="html,css,javascript,小鳥Lab">
    <link rel="icon" href="./img/和logo.ico">
    <meta name="description" content="webサイト体験をもっと楽しく簡単に!!">
    <meta property="og:image" content="./img/和logo.avif">
    <meta property="og:title" content="小鳥Lab">
    <meta property="og:site_name" content="小鳥Lab">
    <meta property="og:description" content="webサイト体験をもっと楽しく簡単に!!">
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@300;600&family=Shippori+Mincho:wght@400;700&display=swap');
        
        [x-cloak] { display: none !important; }
        
        body {
            font-family: 'Shippori Mincho', serif;
        }

        .writing-vertical {
            writing-mode: vertical-rl;
        }

        @keyframes fade-in {
            from { opacity: 0; filter: blur(10px); }
            to { opacity: 1; filter: blur(0); }
        }
        .animate-fade { animation: fade-in 1.5s ease-out forwards; }

        .animation-canvas {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: 0; pointer-events: none;
            opacity: 0.6;
        }
    </style>
</head>
<body class="bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-slate-800 via-slate-900 to-black min-h-screen flex items-center justify-center p-4 sm:p-6 text-stone-200 antialiased overflow-hidden relative">

    <canvas class="animation-canvas"></canvas>

    <div class="relative z-10 w-full max-w-5xl bg-stone-100/5 backdrop-blur-2xl border border-stone-100/10 rounded-sm shadow-2xl overflow-hidden flex flex-col md:flex-row animate-fade" 
         x-data="contactForm()">
        
        <div class="md:w-5/12 p-12 flex flex-col justify-between border-b md:border-b-0 md:border-r border-stone-100/10 relative">
            <div class="absolute top-0 right-0 p-8 opacity-20 text-4xl font-light writing-vertical tracking-[1em]">
                お問い合わせ
            </div>
            
            <div class="relative">
                <h2 class="text-4xl font-light mb-8 tracking-widest border-l-2 border-stone-500 pl-6">
                    御縁 <span class="text-sm block mt-2 opacity-60 tracking-normal font-sans">Contact</span>
                </h2>
                <div class="space-y-6 text-stone-300/80 leading-loose text-sm italic">
                    <p>
                        日々移ろいゆく世界の形、<br>
                        ITであなたの生活をお手伝いをいたします。<br>
                        些細なことでも、お気軽にお尋ねください。
                    </p>
                </div>
            </div>
            
            <div class="mt-12 space-y-4">
                <div class="text-xs uppercase tracking-[0.3em] opacity-40 mb-2 font-sans">Corporate Info</div>
                <div class="text-lg font-light tracking-widest mb-1">小鳥Lab研究所</div>
                <div class="text-xs opacity-60 font-sans tracking-wider">群馬県伊勢崎市エリア</div>
                <div class="flex items-center gap-2 mt-4 opacity-50 text-xs font-sans">
                    <i data-lucide="mail" class="w-3 h-3"></i> kotori.lab.com@gmail.com
                </div>
            </div>
        </div>

        <div class="md:w-7/12 p-8 sm:p-16 relative bg-black/10">
            
            <div x-show="submitted" x-cloak x-transition.opacity.duration.1000ms
                 class="absolute inset-0 bg-stone-900/95 backdrop-blur-3xl z-20 flex flex-col items-center justify-center text-center p-10">
                <div class="mb-6 opacity-40">
                    <svg width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="30" cy="30" r="29" stroke="currentColor" stroke-width="1"/>
                        <path d="M20 30L27 37L40 24" stroke="currentColor" stroke-width="1"/>
                    </svg>
                </div>
                <h3 class="text-2xl font-light mb-4 tracking-[0.5em]">承りました</h3>
                <p class="text-stone-400 mb-12 text-sm leading-relaxed tracking-widest">
                    静かに、内容を拝見いたします。<br>少々お待ちくださいませ。
                </p>
                <button @click="submitted = false" class="text-xs tracking-[0.4em] border-b border-stone-600 pb-1 hover:text-white transition-colors">戻る</button>
            </div>

            <form @submit.prevent="submitForm" class="space-y-10">
                <div class="grid grid-cols-1 gap-10">
                    <div class="relative group">
                        <input type="text" x-model="formData.name" required placeholder=" "
                               class="peer w-full bg-transparent border-b border-stone-700 py-2 outline-none transition-colors focus:border-stone-400 text-stone-200">
                        <label class="absolute left-0 -top-4 text-[10px] uppercase tracking-[0.3em] text-stone-500 transition-all peer-placeholder-shown:text-sm peer-placeholder-shown:top-2 peer-focus:-top-4 peer-focus:text-[10px] peer-focus:text-stone-400">
                            お名前
                        </label>
                    </div>

                    <div class="relative group">
                        <input type="email" x-model="formData.email" required placeholder=" "
                               class="peer w-full bg-transparent border-b border-stone-700 py-2 outline-none transition-colors focus:border-stone-400 text-stone-200">
                        <label class="absolute left-0 -top-4 text-[10px] uppercase tracking-[0.3em] text-stone-500 transition-all peer-placeholder-shown:text-sm peer-placeholder-shown:top-2 peer-focus:-top-4 peer-focus:text-[10px] peer-focus:text-stone-400">
                            電子メール
                        </label>
                    </div>
                </div>

                <div class="relative">
                    <select x-model="formData.subject" required
                            class="w-full bg-transparent border-b border-stone-700 py-2 outline-none appearance-none cursor-pointer text-stone-400 focus:text-stone-100 transition-colors">
                        <option value="" class="bg-stone-900">御用件をご選択ください</option>
                        <option value="service" class="bg-stone-900">事業について</option>
                        <option value="quote" class="bg-stone-900">お見積りのご相談</option>
                        <option value="other" class="bg-stone-900">その他</option>
                    </select>
                    <div class="absolute right-0 top-3 pointer-events-none opacity-30">
                        <i data-lucide="chevron-down" class="w-4 h-4"></i>
                    </div>
                </div>

                <div class="relative">
                    <textarea x-model="formData.message" rows="4" required placeholder=" "
                              class="peer w-full bg-stone-100/5 border border-stone-800 rounded-sm p-4 outline-none transition-all focus:border-stone-600 focus:bg-stone-100/[0.08] text-stone-200 resize-none"></textarea>
                    <label class="absolute left-0 -top-6 text-[10px] uppercase tracking-[0.3em] text-stone-500">
                        本文
                    </label>
                </div>

                <button type="submit" :disabled="loading"
                        class="group relative w-full border border-stone-700 py-5 overflow-hidden transition-all hover:border-stone-400 disabled:opacity-30">
                    <div class="absolute inset-0 w-0 bg-stone-100 transition-all duration-500 group-hover:w-full opacity-10"></div>
                    <span x-show="!loading" class="relative text-xs tracking-[0.8em] font-light group-hover:translate-x-1 transition-transform inline-block">
                        送信を完了する
                    </span>
                    <span x-show="loading" class="relative text-xs tracking-[0.4em] opacity-50">
                        処理中...
                    </span>
                </button>
            </form>
        </div>
    </div>

    <script>
        // 背景アニメーション（静かな和のデザインに合わせて速度と密度を調整）
        class CanvasAnimation {
            constructor(canvasElement) {
                this.canvas = canvasElement;
                this.ctx = this.canvas.getContext('2d');
                this.elements = [];
                this.resize();
                window.addEventListener('resize', this.resize.bind(this));
                this.initializeElements();
                this.animate();
            }
            resize() {
                this.canvas.width = window.innerWidth;
                this.canvas.height = window.innerHeight;
                this.initializeElements();
            }
            initializeElements() {
                this.elements = [];
                // 密度を低くして、ゆったりした空間を作る
                for (let i = 0; i < 40; i++) {
                    this.elements.push({
                        x: Math.random() * this.canvas.width,
                        y: Math.random() * this.canvas.height,
                        s: Math.random() * 0.8 + 0.2,
                        // 非常にゆっくりした動き
                        dx: (Math.random() - 0.5) * 0.2,
                        dy: (Math.random() - 0.5) * 0.2,
                        type: Math.random() > 0.5 ? 'o' : 'x',
                        r: Math.random() * 360
                    });
                }
            }
            animate() {
                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
                const t = new Date().getTime();
                this.elements.forEach(el => {
                    el.x += el.dx; el.y += el.dy;
                    // 画面外に出たら戻す
                    if(el.x < 0) el.x = this.canvas.width;
                    if(el.x > this.canvas.width) el.x = 0;
                    if(el.y < 0) el.y = this.canvas.height;
                    if(el.y > this.canvas.height) el.y = 0;

                    this.ctx.save();
                    this.ctx.translate(el.x + Math.sin(t/2000 + el.x)*10, el.y + Math.cos(t/2000 + el.y)*10);
                    this.ctx.rotate((el.r + t/100) * Math.PI / 180);
                    this.ctx.strokeStyle = 'rgba(255, 250, 240, 0.15)';
                    this.ctx.lineWidth = 1;

                    if(el.type === 'o') {
                        this.ctx.beginPath();
                        this.ctx.arc(0, 0, 8 * el.s, 0, Math.PI * 2);
                        this.ctx.stroke();
                    } else {
                        const size = 10 * el.s;
                        this.ctx.beginPath();
                        this.ctx.moveTo(-size, -size); this.ctx.lineTo(size, size);
                        this.ctx.moveTo(size, -size); this.ctx.lineTo(-size, size);
                        this.ctx.stroke();
                    }
                    this.ctx.restore();
                });
                requestAnimationFrame(() => this.animate());
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            new CanvasAnimation(document.querySelector('.animation-canvas'));
            lucide.createIcons();
        });

        function contactForm() {
            return {
                formData: { name: '', email: '', subject: '', message: '' },
                loading: false,
                submitted: false,
                async submitForm() {
                    this.loading = true;
                    const gasUrl = "https://script.google.com/macros/s/AKfycbwnBH14qjVMQXZqiyyboh9XMeY95i0oXopdRnioKpOiaC898O5bQqP4BBPLHLY3P-ZU/exec";
                    try {
                        const response = await fetch(gasUrl, { method: "POST", body: JSON.stringify(this.formData) });
                        if (response.ok) {
                            this.submitted = true;
                            this.formData = { name: '', email: '', subject: '', message: '' };
                        } else { throw new Error('Error'); }
                    } catch (error) {
                        alert("申し訳ございません。送信に失敗いたしました。");
                    } finally { this.loading = false; }
                }
            }
        }
    </script>
</body>
</html>